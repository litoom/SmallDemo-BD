<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
  <button id="fade-btn">淡出</button>
  <!-- <button id="button_id"  disabled="disabled">按钮不可点击</button> -->

  <script>
    /*
    点击按钮时，开始改变 fade-obj 的透明度，开始一个淡出（逐渐消失）动画，直到透明度为0
    在动画过程中，按钮的状态变为不可点击
    在动画结束后，按钮状态恢复，且文字变成“淡入”
    在 按钮显示 淡入 的状态时，点击按钮，开始一个“淡入”（逐渐出现）的动画，和上面类似按钮不可点，直到透明度完全不透明
    淡入动画结束后，按钮文字变为“淡出”
    */

    let fadeObj = document.getElementById("fade-obj");
    let fadeBtn = document.getElementById("fade-btn");

// ******************setInterval方法******************
    let num = 1;
    fadeBtn.onclick = function () {
      if (fadeBtn.innerText == "淡出") {
        var tem1 = setInterval(function () {
          num -= 0.03;
          fadeObj.style.opacity = num;
          fadeBtn.disabled = "disabled";
          if (num < 0) {
            fadeBtn.disabled = "";
            fadeBtn.innerText = "淡入";
            num = 0;
            clearInterval(tem1);
          }
        }, 10);
      } else {
        var tem2 = setInterval(function () {
          num += 0.03;
          fadeObj.style.opacity = num;
          fadeBtn.disabled = "disabled";
          if (num > 1) {
            fadeBtn.disabled = "";
            fadeBtn.innerText = "淡出";
            num = 1;
            clearInterval(tem2);
          }
        }, 10);
      }
    }

/*************setTimeout方法**********************************
    let num = 1;
    function timeIn () {
      if(num > 0 ) {
        num -= 0.1;
        fadeObj.style.opacity = num;
        fadeBtn.disabled = "disabled";  
        var tem1 = setTimeout(timeIn,100);    
      }else { 
        // num = 0;
        // fadeObj.style.opacity = num;
        fadeBtn.innerText = "淡入";
        fadeBtn.disabled = "";
         //clearTimeout(tem1);
         //alert(fadeObj.style.opacity);
         return;
      }
    }
    

    function timeOut () {      
      if(num < 1 ) {
        num += 0.1;
        fadeObj.style.opacity = num;
        fadeBtn.disabled = "disabled";
        var tem2 = setTimeout(timeOut,100);
      }else {
        num = 1;
        fadeObj.style.opacity = num;
        fadeBtn.innerText = "淡出";
        fadeBtn.disabled = "";
       clearTimeout(tem2);
       //alert(fadeObj.style.opacity);
       return
      }      
    }
  
    fadeBtn.onclick = function () {
      if(fadeBtn.innerText === "淡出") {
        timeIn();
      }else {
        timeOut();   
      }
    }
*/
  </script>
</body>

</html>
